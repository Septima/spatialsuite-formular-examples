<?xml version="1.0" encoding="UTF-8"?>
<datasources>
    <endpoint endpointtype="postgis" name="mailsender">
        <connect>[module.formular-config.connection]</connect>
        <user>[module.formular-config.user]</user>
        <pwd>[module.formular-config.pwd]</pwd>
        <srid>25832</srid>
        <table geometrycolumn="the_geom" pkcolumn="ogc_fid"/>
    </endpoint>
	<datasource displayname="Tilsyn foretaget i marken" endpoint="selvbetjening" name="ds_tilsyn_fbb">
        <table geometrycolumn="wkb_geometry" name="selvbetjening.formular_tilsyn_fbb" pkcolumn="id"/>
		<sql command="write">INSERT INTO selvbetjening.formular_tilsyn_fbb 
							(
								wkb_geometry,
								id,
								journalnr,
								adresse,
								konflikttekst1,
								konflikttekst2,
								hovedplan,
								sokkel,
								ydermur,
								tagkonstruktion,
								gavlkonstruktion,
								kvist,
								gesims,
								doer_port,
								vindue,
								bygningsdel,
								udsmykning,
								stilart,
								oprindelig_fuktion,
								nuvaerende_fuktion,
								komplekstype,
								indre_forhold,
								ydre_forhold,
								notatomindreogydreforhold,
								omgivelser,
								notatomomgivelser,
								bebyggelsesmiljo,
								notatombygningsmiljo,
								arkitektoniskvaerdi,
								arkitektonisk,
								kulturhistoriskvaerdi,
								kulturhistorisk,
								miljomaessigvaerdi,
								miljomaessig,
								originalitetsvaerdi,
								originalitets,
								tilstandsvaerdi,
								tilstand,
								bevaringsmaessigvaerdi,
								bevaringsmaessig,
								foto1,
								foto1_tekst,
								foto2,
								foto2_tekst,
								foto3,
								foto3_tekst,
								foto4,
								foto4_tekst,
								foto5,
								foto5_tekst,
								foto6,
								foto6_tekst,
								betegnelse,
								ejdnr,
								bygnr
							) 
							VALUES
							(
								[geometry: ToGeometry(wkt)],
								[string: if IsDefined(frid)                        then frid else "" endif],
								[string: if IsDefined(journalnr)                   then journalnr else "" endif],
								[string: if IsDefined(adr)                     		then adr else "" endif],
								[string: if IsDefined(konflikttekst1)              then konflikttekst1 else "" endif],
								[string: if IsDefined(konflikttekst2)              then konflikttekst2 else "" endif],
								[string: if IsDefined(hovedplan)                   then hovedplan else "" endif],
								[string: if IsDefined(sokkel)                      then sokkel else "" endif],
								[string: if IsDefined(ydermur)                     then ydermur else "" endif],
								[string: if IsDefined(tagkonstruktion)             then tagkonstruktion else "" endif],
								[string: if IsDefined(gavlkonstruktion)            then gavlkonstruktion else "" endif],
								[string: if IsDefined(kvist)                       then kvist else "" endif],
								[string: if IsDefined(gesims)                      then gesims else "" endif],
								[string: if IsDefined(doer_port)                   then doer_port else "" endif],
								[string: if IsDefined(vindue)                      then vindue else "" endif],
								[string: if IsDefined(bygningsdel)                 then bygningsdel else "" endif],
								[string: if IsDefined(udsmykning)                  then udsmykning else "" endif],
								[string: if IsDefined(stilart)                     then stilart else "" endif],
								[string: if IsDefined(oprindelig_fuktion)          then oprindelig_fuktion else "" endif],
								[string: if IsDefined(nuvaerende_fuktion)          then nuvaerende_fuktion else "" endif],
								[string: if IsDefined(komplekstype)                then komplekstype else "" endif],
								[string: if IsDefined(indre_forhold)              then indre_forhold else "" endif],
								[string: if IsDefined(ydre_forhold)              then ydre_forhold else "" endif],
								[string: if IsDefined(notatomindreogydreforhold)              then notatomindreogydreforhold else "" endif],
								[string: if IsDefined(omgivelser)              then omgivelser else "" endif],
								[string: if IsDefined(notatomomgivelser)              then notatomomgivelser else "" endif],
								[string: if IsDefined(bebyggelsesmiljo)              then bebyggelsesmiljo else "" endif],
								[string: if IsDefined(notatombygningsmiljo)              then notatombygningsmiljo else "" endif],
								[string: if IsDefined(arkitektoniskvaerdi)              then arkitektoniskvaerdi else "" endif],
								[string: if IsDefined(arkitektonisk)              then arkitektonisk else "" endif],
								[string: if IsDefined(kulturhistoriskvaerdi)              then kulturhistoriskvaerdi else "" endif],
								[string: if IsDefined(kulturhistorisk)              then kulturhistorisk else "" endif],
								[string: if IsDefined(miljomaessigvaerdi)              then miljomaessigvaerdi else "" endif],
								[string: if IsDefined(miljomaessig)              then miljomaessig else "" endif],
								[string: if IsDefined(originalitetsvaerdi)              then originalitetsvaerdi else "" endif],
								[string: if IsDefined(originalitets)              then originalitets else "" endif],
								[string: if IsDefined(tilstandsvaerdi)              then tilstandsvaerdi else "" endif],
								[string: if IsDefined(tilstand)              then tilstand else "" endif],
								[string: if IsDefined(bevaringsmaessigvaerdi)              then bevaringsmaessigvaerdi else "" endif],
								[string: if IsDefined(bevaringsmaessig)              then bevaringsmaessig else "" endif],
								[string: if IsDefined(foto1)              then foto1 else "" endif],
								[string: if IsDefined(foto1_tekst)              then foto1_tekst else "" endif],
								[string: if IsDefined(foto2)              then foto2 else "" endif],
								[string: if IsDefined(foto2_tekst)              then foto2_tekst else "" endif],
								[string: if IsDefined(foto3)              then foto3 else "" endif],
								[string: if IsDefined(foto3_tekst)              then foto3_tekst else "" endif],
								[string: if IsDefined(foto4)              then foto4 else "" endif],
								[string: if IsDefined(foto4_tekst)              then foto4_tekst else "" endif],
								[string: if IsDefined(foto5)              then foto5 else "" endif],
								[string: if IsDefined(foto5_tekst)              then foto5_tekst else "" endif],
								[string: if IsDefined(foto6)              then foto6 else "" endif],
								[string: if IsDefined(foto6_tekst)              then foto6_tekst else "" endif],
								[string: if IsDefined(betegnelse)              then betegnelse else "" endif],
								[number: if IsDefined(ejdnr)              then toNumber(ejdnr) else 0 endif],
								[number: if IsDefined(bygnr)              then toNumber(bygnr) else 0 endif]
							)
						</sql>
    </datasource>
</datasources>
